(function(c){c.gritter={};c.gritter.options={position:"",class_name:"",icon:"",close_icon:"",fade_in_speed:"medium",fade_out_speed:1E3,time:6E3};c.gritter.add=function(a){try{return g.add(a||{})}catch(d){var b="Gritter Error: "+d;"undefined"!=typeof console&&console.error?console.error(b,a):alert(b)}};c.gritter.remove=function(a,b){g.removeSpecific(a,b||{})};c.gritter.removeAll=function(a){g.stop(a||{})};var g={position:"",fade_in_speed:"",fade_out_speed:"",time:"",close_icon:"",icon:"",_custom_timer:0,
_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1"></a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(a){"string"==typeof a&&
(a={text:a});if(null===a.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var b=a.title,d=a.text,h=a.image||"",p=a.sticky||!1,q=a.class_name||c.gritter.options.class_name,e=a.icon||c.gritter.options.icon,m=a.close_icon||c.gritter.options.close_icon,n=c.gritter.options.position,f=a.time||"";this._verifyWrapper();this._item_count++;var k=this._item_count,l=this._tpl_item;c(["before_open","after_open","before_close","after_close"]).each(function(b,d){g["_"+d+"_"+k]=c.isFunction(a[d])?
a[d]:function(){}});this._custom_timer=0;f&&(this._custom_timer=f);f=""!=h?'<img src="'+h+'" class="gritter-image" />':"";var r=""!=h?"gritter-with-image":"gritter-without-image";""==h&&(f='<i class="'+e+' gritter-icon"></i>');b=b?this._str_replace("[[title]]",b,this._tpl_title):"";l=this._str_replace("[[title]] [[text]] [[close]] [[image]] [[number]] [[class_name]] [[item_class]]".split(" "),[b,d,this._tpl_close,f,this._item_count,r,q],l);if(!1===this["_before_open_"+k]())return!1;c("#gritter-notice-wrapper").addClass(n).append(l);
b=c("#gritter-item-"+this._item_count);b.fadeIn(this.fade_in_speed,function(){g["_after_open_"+k](c(this))});p||this._setFadeTimer(b,k);c(b).find(".gritter-close").append('<i class="'+m+'"></i>');c(b).find(".gritter-close").click(function(){g.removeSpecific(k,{},null,!0);return!1});return k},_countRemoveWrapper:function(a,b,d){b.remove();this["_after_close_"+a](b,d);0==c(".gritter-item-wrapper").length&&c("#gritter-notice-wrapper").remove()},_fade:function(a,b,d,c){d=d||{};var h="undefined"!=typeof d.fade?
d.fade:!0;d=d.speed||this.fade_out_speed;this["_before_close_"+b](a,c);c&&a.unbind("mouseenter mouseleave");h?a.animate({opacity:0},d,function(){a.animate({height:0},300,function(){g._countRemoveWrapper(b,a,c)})}):this._countRemoveWrapper(b,a)},_hoverState:function(a,b){"mouseenter"==b?(a.addClass("hover"),a.find(".gritter-close").show()):(a.removeClass("hover"),a.find(".gritter-close").hide())},removeSpecific:function(a,b,d,h){d||(d=c("#gritter-item-"+a));this._fade(d,a,b||{},h)},_restoreItemIfFading:function(a,
b){clearTimeout(this["_int_id_"+b]);a.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in c.gritter.options)this[opt]=c.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(a,b){this["_int_id_"+b]=setTimeout(function(){g._fade(a,b)},this._custom_timer?this._custom_timer:this.time)},stop:function(a){var b=c.isFunction(a.before_close)?a.before_close:function(){},d=c.isFunction(a.after_close)?a.after_close:function(){};a=c("#gritter-notice-wrapper");b(a);a.fadeOut(function(){c(this).remove();
d()})},_str_replace:function(a,b,d,c){var g,h;a=[].concat(a);b=[].concat(b);var e=d,m=b instanceof Array,n=e instanceof Array;e=[].concat(e);c&&(this.window[c]=0);d=0;for(g=e.length;d<g;d++)if(""!==e[d]){var f=0;for(h=a.length;f<h;f++){var k=e[d]+"";var l=m?void 0!==b[f]?b[f]:"":b[0];e[d]=k.split(a[f]).join(l);c&&e[d]!==k&&(this.window[c]+=(k.length-e[d].length)/a[f].length)}}return n?e:e[0]},_verifyWrapper:function(){0==c("#gritter-notice-wrapper").length&&c("body").append(this._tpl_wrap)}}})(jQuery);