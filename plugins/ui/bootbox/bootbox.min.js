(function(e,k){"function"===typeof define&&define.amd?define(["jquery"],k):"object"===typeof exports?module.exports=k(require("jquery")):e.bootbox=k(e.jQuery)})(this,function init(e,k){function n(a,c,b){a.stopPropagation();a.preventDefault();e.isFunction(b)&&!1===b(a)||c.modal("hide")}function x(a){var c,b=0;for(c in a)b++;return b}function h(a,c){var b=0;e.each(a,function(a,f){c(a,f,b++)})}function y(a){if("object"!==typeof a)throw Error("Please supply an object of options");if(!a.message)throw Error("Please specify a message");
a=e.extend({},p,a);a.buttons||(a.buttons={});a.backdrop=a.backdrop?"static":!1;var c=a.buttons;var b=x(c);h(c,function(a,f,g){e.isFunction(f)&&(f=c[a]={callback:f});if("object"!==e.type(f))throw Error("button with key "+a+" must be an object");f.label||(f.label=a);f.className||(f.className=2>=b&&g===b-1?"btn-primary":"btn-default")});return a}function z(a,c){var b=a.length,d={};if(1>b||2<b)throw Error("Invalid argument length");2===b||"string"===typeof a[0]?(d[c[0]]=a[0],d[c[1]]=a[1]):d=a[0];return d}
function r(a,c,b){return e.extend(!0,{},a,z(c,b))}function t(a,c,b,d){a={className:"bootbox-"+a,buttons:u.apply(null,c)};return v(r(a,d,b),c)}function u(){for(var a={},c=0,b=arguments.length;c<b;c++){var d=arguments[c],f=d.toLowerCase();d=d.toUpperCase();var e=w[p.locale];a[f]={label:e?e[d]:w.en[d]}}return a}function v(a,c){var b={};h(c,function(a,c){b[c]=!0});h(a.buttons,function(a){if(b[a]===k)throw Error("button key "+a+" is not allowed (options are "+c.join("\n")+")");});return a}var q={text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",
textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",
time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"},p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},l={alert:function(){var a=t("alert",["ok"],["message","callback"],arguments);if(a.callback&&
!e.isFunction(a.callback))throw Error("alert requires callback property to be a function when provided");a.buttons.ok.callback=a.onEscape=function(){return e.isFunction(a.callback)?a.callback():!0};return l.dialog(a)},confirm:function(){var a=t("confirm",["cancel","confirm"],["message","callback"],arguments);a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)};a.buttons.confirm.callback=function(){return a.callback(!0)};if(!e.isFunction(a.callback))throw Error("confirm requires a callback");
return l.dialog(a)},prompt:function(){var a=e("<form class='bootbox-form'></form>");var c={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"};var b=v(r(c,arguments,["title","callback"]),["cancel","confirm"]);c=b.show===k?!0:b.show;var d=document.createElement("input");d.setAttribute("type",b.inputType);["date","time","number"][b.inputType]&&(b.inputType=d.type);b.message=a;b.buttons.cancel.callback=b.onEscape=function(){return b.callback(null)};b.buttons.confirm.callback=
function(){switch(b.inputType){case "text":case "textarea":case "email":case "select":case "date":case "time":case "number":case "password":var a=f.val();break;case "checkbox":var c=f.find("input:checked");a=[];h(c,function(b,c){a.push(e(c).val())})}return b.callback(a)};b.show=!1;if(!b.title)throw Error("prompt requires a title");if(!e.isFunction(b.callback))throw Error("prompt requires a callback");if(!q[b.inputType])throw Error("invalid prompt type");var f=e(q[b.inputType]);switch(b.inputType){case "text":case "textarea":case "email":case "date":case "time":case "number":case "password":f.val(b.value);
break;case "select":var g={};d=b.inputOptions||[];if(!d.length)throw Error("prompt with select requires options");h(d,function(a,b){var c=f;if(b.value===k||b.text===k)throw Error("given options in wrong format");b.group&&(g[b.group]||(g[b.group]=e("<optgroup/>").attr("label",b.group)),c=g[b.group]);c.append("<option value='"+b.value+"'>"+b.text+"</option>")});h(g,function(a,b){f.append(b)});f.val(b.value);break;case "checkbox":var A=e.isArray(b.value)?b.value:[b.value];d=b.inputOptions||[];if(!d.length)throw Error("prompt with checkbox requires options");
if(!d[0].value||!d[0].text)throw Error("given options in wrong format");f=e("<div/>");h(d,function(a,c){var d=e(q[b.inputType]);d.find("input").attr("value",c.value);d.find("label").append(c.text);h(A,function(a,b){b===c.value&&d.find("input").prop("checked",!0)});f.append(d)})}b.placeholder&&f.attr("placeholder",b.placeholder);b.pattern&&f.attr("pattern",b.pattern);a.append(f);a.on("submit",function(a){a.preventDefault();a.stopPropagation();m.find(".btn-primary").click()});var m=l.dialog(b);m.off("shown.bs.modal");
m.on("shown.bs.modal",function(){f.focus()});!0===c&&m.modal("show");return m},dialog:function(a){a=y(a);var c=e("<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>"),b=c.find(".modal-dialog"),d=c.find(".modal-body"),f="",g={onEscape:a.onEscape};h(a.buttons,function(a,b){f+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>";
g[a]=b.callback});d.find(".bootbox-body").html(a.message);!0===a.animate&&c.addClass("fade");a.className&&c.addClass(a.className);"large"===a.size&&b.addClass("modal-lg");"small"===a.size&&b.addClass("modal-sm");a.title&&d.before("<div class='modal-header'><h4 class='modal-title'></h4></div>");a.closeButton&&(b=e("<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>"),a.title?c.find(".modal-header").prepend(b):b.css("margin-top","-10px").prependTo(d));
a.title&&c.find(".modal-title").html(a.title);f.length&&(d.after("<div class='modal-footer'></div>"),c.find(".modal-footer").html(f));c.on("hidden.bs.modal",function(a){a.target===this&&c.remove()});c.on("shown.bs.modal",function(){c.find(".btn-primary:first").focus()});c.on("escape.close.bb",function(a){g.onEscape&&n(a,c,g.onEscape)});c.on("click",".modal-footer button",function(a){var b=e(this).data("bb-handler");n(a,c,g[b])});c.on("click",".bootbox-close-button",function(a){n(a,c,g.onEscape)});
c.on("keyup",function(a){27===a.which&&c.trigger("escape.close.bb")});e(a.container).append(c);c.modal({backdrop:a.backdrop,keyboard:!1,show:!1});a.show&&c.modal("show");return c},setDefaults:function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0];e.extend(p,a)},hideAll:function(){e(".bootbox").modal("hide")}},w={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"\u00ce\u2022\u00ce\u00bd\u00cf\u201e\u00ce\u00ac\u00ce\u00be\u00ce\u00b5\u00ce\u00b9",
CANCEL:"\u00ce\u2018\u00ce\u00ba\u00cf\u008d\u00cf\u0081\u00cf\u2030\u00cf\u0192\u00ce\u00b7",CONFIRM:"\u00ce\u2022\u00cf\u20ac\u00ce\u00b9\u00ce\u00b2\u00ce\u00b5\u00ce\u00b2\u00ce\u00b1\u00ce\u00af\u00cf\u2030\u00cf\u0192\u00ce\u00b7"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u00d7\u0090\u00d7\u2122\u00d7\u00a9\u00d7\u2022\u00d7\u00a8",CANCEL:"\u00d7\u2018\u00d7\u2122\u00d7\u02dc\u00d7\u2022\u00d7\u0153",
CONFIRM:"\u00d7\u0090\u00d7\u2122\u00d7\u00a9\u00d7\u2022\u00d7\u00a8"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"At\u00c5\u00a1aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u00c4\u0081t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u00c5\u00ba"},ru:{OK:"OK",CANCEL:"\u00d0\u017e\u00d1\u201a\u00d0\u00bc\u00d0\u00b5\u00d0\u00bd\u00d0\u00b0",
CONFIRM:"\u00d0\u0178\u00d1\u20ac\u00d0\u00b8\u00d0\u00bc\u00d0\u00b5\u00d0\u00bd\u00d0\u00b8\u00d1\u201a\u00d1\u0152"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u00c4\u00b0ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u00e5\u008f\u2013\u00e6\u00b6\u02c6",CONFIRM:"\u00e7\u00a1\u00ae\u00e8\u00ae\u00a4"},zh_TW:{OK:"OK",CANCEL:"\u00e5\u008f\u2013\u00e6\u00b6\u02c6",CONFIRM:"\u00e7\u00a2\u00ba\u00e8\u00aa\u008d"}};l.init=function(a){return init(a||e)};return l});