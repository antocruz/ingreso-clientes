(function(c){var g=function(a,b){this.options=b;this.$elementFilestyle=[];this.$element=c(a)};g.prototype={clear:function(){this.$element.val("");this.$elementFilestyle.find(":text").val("")},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val("");this.$elementFilestyle.remove()},disabled:function(a){if(!0===a)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else if(!1===
a)this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1);else return this.options.disabled},buttonBefore:function(a){if(!0===a)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else if(!1===a)this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),
this.pushNameFiles()));else return this.options.buttonBefore},icon:function(a){if(!0===a)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else if(!1===a)this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".filestyleicon").remove());else return this.options.icon},input:function(a){if(!0===a)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),
this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else if(!1===a)this.options.input&&(this.options.input=!1,this.$elementFilestyle.find(":text").remove(),a=this.pushNameFiles(),0<a.length&&this.$elementFilestyle.find("label").append(' <span class="badge">'+a.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn"));else return this.options.input},size:function(a){if(void 0!==
a){var b=this.$elementFilestyle.find("label"),c=this.$elementFilestyle.find("input");b.removeClass("btn-lg btn-sm");c.removeClass("input-lg input-sm");"nr"!=a&&(b.addClass("btn-"+a),c.addClass("input-"+a))}else return this.options.size},buttonText:function(a){if(void 0!==a)this.options.buttonText=a,this.$elementFilestyle.find("label span").html(this.options.buttonText);else return this.options.buttonText},buttonName:function(a){if(void 0!==a)this.options.buttonName=a,this.$elementFilestyle.find("label").attr({"class":"btn "+
this.options.buttonName});else return this.options.buttonName},iconName:function(a){if(void 0!==a)this.$elementFilestyle.find(".filestyleicon").attr({"class":".filestyleicon "+this.options.iconName});else return this.options.iconName},htmlIcon:function(){return this.options.icon?'<span class="filestyleicon '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" disabled> ':
""},pushNameFiles:function(){var a="",b=[];void 0===this.$element[0].files?b[0]={name:this.$element.value}:b=this.$element[0].files;for(var c=0;c<b.length;c++)a+=b[c].name.split("\\").pop()+", ";""!==a?this.$elementFilestyle.find(":text").val(a.replace(/, $/g,"")):this.$elementFilestyle.find(":text").val("");return b},constructor:function(){var a=this,b="";b=a.$element.attr("id");var d="";""!==b&&b||(b="filestyle-"+c(".bootstrap-filestyle").length,a.$element.attr({id:b}));d='<span class="group-span-filestyle '+
(a.options.input?"input-group-btn":"")+'"><label for="'+b+'" class="btn '+a.options.buttonName+" "+("nr"==a.options.size?"":"btn-"+a.options.size)+'" '+(a.options.disabled?'disabled="true"':"")+">"+a.htmlIcon()+a.options.buttonText+"</label></span>";b=a.options.buttonBefore?d+a.htmlInput():a.htmlInput()+d;a.$elementFilestyle=c('<div class="bootstrap-filestyle input-group">'+b+"</div>");a.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(b){if(13===b.keyCode||32===
b.charCode)return a.$elementFilestyle.find("label").click(),!1});a.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(a.$elementFilestyle);a.options.disabled&&a.$element.attr("disabled","true");a.$element.change(function(){var b=a.pushNameFiles();0==a.options.input?0==a.$elementFilestyle.find(".badge").length?a.$elementFilestyle.find("label").append(' <span class="badge">'+b.length+"</span>"):0==b.length?a.$elementFilestyle.find(".badge").remove():a.$elementFilestyle.find(".badge").html(b.length):
a.$elementFilestyle.find(".badge").remove()});-1<window.navigator.userAgent.search(/firefox/i)&&a.$elementFilestyle.find("label").click(function(){a.$element.click();return!1})}};var f=c.fn.filestyle;c.fn.filestyle=function(a,b){var d="";this.each(function(){if("file"===c(this).attr("type")){var h=c(this),e=h.data("filestyle"),f=c.extend({},c.fn.filestyle.defaults,a,"object"===typeof a&&a);e||(h.data("filestyle",e=new g(this,f)),e.constructor());"string"===typeof a&&(d=e[a](b))}});return d};c.fn.filestyle.defaults=
{buttonText:"Choose file",iconName:"filestyleicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,icon:!0,buttonBefore:!1,disabled:!1};c.fn.filestyle.noConflict=function(){c.fn.filestyle=f;return this};c(function(){c(".filestyle").each(function(){var a=c(this),b={input:"false"===a.attr("data-input")?!1:!0,icon:"false"===a.attr("data-icon")?!1:!0,buttonBefore:"true"===a.attr("data-buttonBefore")?!0:!1,disabled:"true"===a.attr("data-disabled")?!0:!1,size:a.attr("data-size"),buttonText:a.attr("data-buttonText"),
buttonName:a.attr("data-buttonName"),iconName:a.attr("data-iconName")};a.filestyle(b)})})})(window.jQuery);